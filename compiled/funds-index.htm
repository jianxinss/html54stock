<!doctype html >
<html>
    <head>
        <meta http-equiv="content-type" content="text/html;charset=GBK" />
        <title>基金单位净值指数对比图</title>
        <script>
(function(){function b(){this.tapTimeLimit=500}Array.prototype.each=function(d,f,c){f=f||0;c=c||this.length-1;for(var e=f;e<=c;e++){d(this[e],this,e);if(this.breakLoop){this.breakLoop=false;break}}};b.prototype={preventDefaultEvent:function(c){if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}},isTouchDevice:function(){return !!("ontouchstart" in window)},toMoney:function(c){return c.toFixed(2)},bigNumberToText:function(d){var c;var f=d/100000000;if(f>1){c=f.toFixed(2)+"亿"}else{var e=d/10000;if(e>1){c=e.toFixed()+"万"}else{c=d}}return c},getOffset:function(c){if(!isNaN(c.offsetX)&&!isNaN(c.offsetY)){return c}var h=c.target;if(h.offsetLeft==undefined){h=h.parentNode}var g=getPageCoord(h);var d={x:window.pageXOffset+c.clientX,y:window.pageYOffset+c.clientY};var f={offsetX:d.x-g.x,offsetY:d.y-g.y};return f},getPageCoord:function(d){var c={x:0,y:0};while(d){c.x+=d.offsetLeft;c.y+=d.offsetTop;d=d.offsetParent}return c},addLoadEvent:function(c){var d=window.onload;if(typeof d!="function"){window.onload=c}else{window.onload=function(){d();c()}}},addEvent:function(c,d,e,g){if(c.addEventListener){c.addEventListener(d,e,g);return true}else{if(c.attachEvent){var f=c.attachEvent("on"+d,e);return f}else{c["on"+d]=e}}},getEventTarget:function(c){return c.srcElement||c.target||c.relatedTarget},$id:function(c){return document.getElementById(c)}};window.extendObject=function(e,c){for(var d in e){c[d]=e[d]}};window.extendWindow=function(c){extendObject(c,window)};var a=new b();extendWindow(a);window.getQueryParam=function(f,c){var e=new RegExp("[?&]"+f+"=([^&]+)","i");var d=e.exec(c?window.top.location.search:location.search);if(d&&d.length>1){return decodeURIComponent(d[1])}else{return""}};window.debug=getQueryParam("debug");window.setDebugMsg=function(d){if(window.debug){try{var f="debug";var e=$id(f);if(!e){e=document.createElement("DIV");e.id=f;document.body.appendChild(e)}e.innerHTML=(window.debug==2?(d+"<br/>"+e.innerHTML):d)}catch(c){alert(d+";error:"+c)}}}})();function loading(a,b){this.canvas=(typeof a=="String"?document.getElementById(a):a);if(b){this.radius=b.radius||10;this.circleLineWidth=b.circleLineWidth||4;this.circleColor=b.circleColor||"lightgray";this.dotColor=b.dotColor||"gray"}else{this.radius=10;this.circelLineWidth=4;this.circleColor="lightgray";this.dotColor="gray"}}loading.prototype={show:function(){var a=this.canvas;if(!a.getContext){return}if(a.__loading){return}a.__loading=this;var b=a.getContext("2d");var d=this.radius;var e=[{angle:0,radius:1.5},{angle:3/d,radius:2},{angle:7/d,radius:2.5},{angle:12/d,radius:3}];var c=this;a.loadingInterval=setInterval(function(){b.clearRect(0,0,a.width,a.height);var h=c.circleLineWidth;var f={x:a.width/2-d,y:a.height/2-d};b.beginPath();b.lineWidth=h;b.strokeStyle=c.circleColor;b.arc(f.x,f.y,d,0,Math.PI*2);b.closePath();b.stroke();for(var g=0;g<e.length;g++){var j=e[g].currentAngle||e[g].angle;var k={x:f.x-(d)*Math.cos(j),y:f.y-(d)*Math.sin(j)};var l=e[g].radius;b.beginPath();b.fillStyle=c.dotColor;b.arc(k.x,k.y,l,0,Math.PI*2);b.closePath();b.fill();e[g].currentAngle=j+4/d}},50)},hide:function(){var a=this.canvas;a.__loading=false;if(a.loadingInterval){window.clearInterval(a.loadingInterval)}var b=a.getContext("2d");if(b){b.clearRect(0,0,a.width,a.height)}}};var Ajax={};Ajax.request=function(e,g,a,c,f){f=f==undefined?true:f;var d=(window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):(window.XMLHttpRequest?new XMLHttpRequest():false));var b=document.getElementById(c);if(b&&f){b.loadingObj=new loading(b);b.loadingObj.show()}d.onreadystatechange=function(){if(d.readyState==4&&d.status==200){if(b&&f){b.loadingObj.hide()}a(d)}};d.open(e||"POST",g,true);if(d.overrideMimeType){d.overrideMimeType("text/xml")}d.send()};Ajax.get=function(d,a,b,c){Ajax.request("GET",d,a,b,c)};Ajax.post=function(d,a,b,c){Ajax.request("POST",d,a,b,c)};function XmlParser(a){this.doc=a}XmlParser.prototype={getChildValue:function(f,d,b){b=b||0;var c=-1;for(var e=0;e<f.childNodes.length;e++){var a=f.childNodes[e];if(a.nodeName==d){c+=1;if(c==b){return a.firstChild.data}}}return null},getValue:function(e){var a=this.doc;var h=e.split("/");var f=[];var d=a;for(var b=0;b<h.length;b++){var g=h[b];if(g==""){continue}if(g.charAt(0)=="@"){g=g.substring(1,g.length);return d.getAttribute(g)}var c=g.indexOf("[");if(c>0){nodeName=g.substring(0,c);c=g.substr(c+1,g.length-c-2);d=this._getChildren(d,nodeName)[c]}else{d=this._getChildren(d,g)[0]}}return d.nodeValue},getNode:function(f){var a=this.doc;var j=f.split("/");var g=a;var d;for(var b=0;b<j.length;b++){var h=j[b];if(h==""){continue}if(b>0&&d){g=d;d=null}var e;var c=h.indexOf("[");if(c>0){e=h.substring(0,c);c=h.substr(c+1,h.length-c-2);d=this._getChildren(g,e)[c]}else{d=this._getChildren(g,h)[0]}}return d},getNodes:function(m){var a=this.doc;var p=m.split("/");var n=[];n.push(a);var g=[];for(var b=0;b<p.length;b++){var o=p[b];if(o==""){continue}if(b>0&&g.length){n=g;g=[]}var h;var f;var c=o.indexOf("[");if(c>0){h=o.substring(0,c);c=o.substr(c+1,o.length-c-2);for(var d=0;d<n.length;d++){f=this._getChildren(n[d],h)[c];g.push(f)}}else{for(var d=0;d<n.length;d++){var l=this._getChildren(n[d],o);for(var e=0;e<l.length;e++){g.push(l[e])}}}}return g},_getChildren:function(c,b){var d=[];if(c.childNodes.length){for(var a=0;a<c.childNodes.length;a++){if(c.childNodes[a].nodeName==b){d.push(c.childNodes[a])}}}return d}};var dashSize=2;function Painter(a,c,b){this.canvas=document.getElementById(a);if(!this.canvas.getContext){return}this.ctx=this.canvas.getContext("2d");this.data=b;this.paintImplement=c;this.width=this.canvas.width;this.height=this.canvas.height}Painter.prototype={paint:function(){var e=this.paintImplement;var b=this.data;var a=this.ctx;if(typeof e.initialize=="function"){e.initialize(this)}if(e.start){e.start.call(this)}if(typeof e.paintItems=="function"){e.paintItems.call(this)}else{var c=((typeof e.getDataLength=="function")?e.getDataLength.call(this):this.data.length);for(var d=0;d<c;d++){var f=e.getX?e.getX.call(this,d):undefined;var g=e.getY?e.getY.call(this,d):undefined;e.paintItem.call(this,d,f,g)}}if(e.end){e.end.call(this)}},drawHLine:function(a,g,h,e,d,c){var b=this.ctx;b.strokeStyle=a;if(h*10%10==0){h+=0.5}if(c&&c=="dashed"){var f=0;do{this.drawHLine(a,f,h,dashSize,1,"solid");f+=dashSize*2}while(f<e)}else{b.beginPath();b.moveTo(g,h);b.lineTo(g+e,h);b.stroke()}},drawVLine:function(a,g,i,c,f,e){var b=this.ctx;b.strokeStyle=a;if(g*10%10==0){g+=0.5}if(e&&e=="dashed"){var d=0;do{this.drawVLine(a,g,d,dashSize,1);d+=dashSize*2}while(d<c)}else{b.beginPath();b.moveTo(g,i);b.lineTo(g,i+c);b.stroke()}},setData:function(a){this.data=a},setPainterImplement:function(a){this.paintImplement=a}};function crossLines(a){this.updateOptions(a)}crossLines.prototype={updateOptions:function(a){this.canvas=a.canvas;this.canvasId=this.canvas.id;this.horizontalDivId=this.canvasId+"_crossLines_H";this.verticalDivId=this.canvasId+"_crossLines_V";this.verticalRange=a.verticalRange||{y1:0,y2:this.canvas.height};this.horizontalRange=a.horizontalRange||{x1:0,x2:this.canvas.width};this.canvasPosition=getPageCoord(this.canvas);this.crossPoint=a.crossPoint;this.color=a.color||"black"},removeCrossLines:function(){var a=this.canvas;var b=a.id;var c=b+"_crossLines_H";var f=b+"_crossLines_V";var d=$id(c);if(d){d.style.display="none"}var e=$id(f);if(e){e.style.display="none"}},getHLine:function(){return $id(this.horizontalDivId)},getVLine:function(){return $id(this.verticalDivId)},setMouseEvents:function(a,b){this.hLineMouseEvt=a;this.vLineMouseEvt=b},updateCrossPoint:function(a){this.crossPoint=a;this.drawCrossLines()},drawCrossLines:function(){var a=this.canvas;var b=this.canvas.id;var f=b+"_crossLines_H";var i=b+"_crossLines_V";var h=this.verticalRange||{y1:0,y2:a.height};var g=this.horizontalRange||{x1:0,x2:a.width};var c=this.canvasPosition;if(this.crossPoint.x<g.x1||this.crossPoint.x>g.x2||this.crossPoint.y<h.y1||this.crossPoint.y>h.y2){this.removeCrossLines();return}var k=(a.style.zIndex||1)+1;var d=false;var e;if($id(f)){d=true;e=$id(f)}else{e=document.createElement("DIV");e.id=f}e.style.display="block";e.style.position="absolute";e.style.width=Math.round(g.x2-g.x1)+"px";e.style.height="1px";e.style.left=Math.round(c.x+g.x1)+"px";e.style.top=Math.round(this.crossPoint.y+c.y)+"px";e.style.backgroundColor=this.color;e.style.zIndex=k;if(!d){document.body.appendChild(e);if(typeof this.hLineMouseEvt=="function"){addEvent(e,"mouseover",this.hLineMouseEvt);addEvent(e,"mousemove",this.hLineMouseEvt)}}d=false;var j;if($id(i)){d=true;j=$id(i)}else{j=document.createElement("DIV");j.id=i}j.style.display="block";j.style.position="absolute";j.style.height=Math.round(h.y2-h.y1)+"px";j.style.width="1px";j.style.left=Math.round(this.crossPoint.x+c.x)+"px";j.style.top=Math.round(h.y1+c.y)+"px";j.style.backgroundColor=this.color;j.style.index=k;if(!d){document.body.appendChild(j);if(typeof this.vLineMouseEvt=="function"){addEvent(j,"mouseover",this.vLineMouseEvt);addEvent(j,"mousemove",this.vLineMouseEvt)}}}};function disableBubbleAndPreventDefault(a){if(a.preventDefault){a.preventDefault()}a.cancelBubble=true}function setTouchEventOffsetPosition(a,d){a=a||event;if(a.touches&&a.touches.length){a=a.touches[0]}else{if(a.changedTouches&&a.changedTouches.length){a=a.changedTouches[0]}}var b,c;b=a.pageX-d.x;c=a.pageY-d.y;return{offsetX:b,offsetY:c}}function crossLinesAndTipMgr(a,b){if(typeof Tip!="function"){window.Tip=function(){};window.Tip.prototype={show:function(){},hide:function(){},update:function(){}}}this.canvas=a;this.options=b}crossLinesAndTipMgr.prototype._removeTipAndCrossLines=function(){var a=this;if(a.tip){a.tip.hide()}if(a.clsMgr){a.clsMgr.removeCrossLines()}};crossLinesAndTipMgr.prototype.updateOptions=function(a){this.options=a};crossLinesAndTipMgr.prototype._onMouseOrTouchMove=function(f){f=f||event;f=getOffset(f);var g=this;var h=g.options;var a=g.canvas;var b=getPageCoord(a);var i=h.triggerEventRanges;if(f.offsetX<i.x||f.offsetX>i.x+i.width||f.offsetY<i.y||f.offsetY>i.y+i.height){g._removeTipAndCrossLines();return}var e=h.getCrossPoint(f);var d={crossPoint:e,verticalRange:{y1:i.y,y2:i.y+i.height},horizontalRange:{x1:i.x,x2:i.x+i.width},color:h.crossLineOptions.color,canvas:a};if(!g.clsMgr){var c=new crossLines(d);c.setMouseEvents(function(l){l=l||event;l=getOffset(l);var n={offsetX:l.offsetX+i.x,offsetY:parseInt(g.clsMgr.getHLine().style.top)-b.y};var m=h.getCrossPoint(n);c.updateCrossPoint(m);if(g.tip){g.tip.update(m,h.tipOptions.getTipHtml(n))}},function(l){l=l||event;l=getOffset(l);var n={offsetX:parseInt(g.clsMgr.getVLine().style.left)-b.x,offsetY:l.offsetY+i.y};var m=h.getCrossPoint(n);c.updateCrossPoint(m);if(g.tip){g.tip.update(m,h.tipOptions.getTipHtml(n))}});g.clsMgr=c}else{g.clsMgr.updateOptions(d)}g.clsMgr.drawCrossLines();if(h.tipOptions){var k=h.tipOptions;if(!g.tip){var j=new Tip({position:{x:k.position.x||false,y:k.position.y||false},size:k.size,opacity:k.opacity||80,cssClass:k.cssClass,offsetToPoint:k.offsetToPoint||30,relativePoint:{x:e.x,y:e.y},canvas:a,canvasRange:h.triggerEventRanges,innerHTML:k.getTipHtml(f)});g.tip=j}g.tip.show(e,k.getTipHtml(f))}};crossLinesAndTipMgr.prototype._touchstart=function(a){a=a||event;disableBubbleAndPreventDefault(a);var b=a.srcElement||a.target||a.relatedTarget;this.touchstartTime=new Date()};crossLinesAndTipMgr.prototype._touchmove=function(b){b=b||event;disableBubbleAndPreventDefault(b);var a=this.canvas;var d=getPageCoord(a);var f=b.srcElement||b.target||b.relatedTarget;var c=setTouchEventOffsetPosition(b,d);this._onMouseOrTouchMove(c)};crossLinesAndTipMgr.prototype._touchend=function(b){b=b||event;disableBubbleAndPreventDefault(b);var d=b.srcElement||b.target||b.relatedTarget;var a=this.canvas;var c=setTouchEventOffsetPosition(b,getPageCoord(a));this._removeTipAndCrossLines();var f=new Date();var g=f.getTime()-this.touchstartTime.getTime();if(g<200){if(typeof this.options.onClick=="function"){this.options.onClick()}}};crossLinesAndTipMgr.prototype._mouseout=function(b){var a=b||event;b=getOffset(a);var c=this;var d=c.options.triggerEventRanges;if(b.offsetX<=d.x||b.offsetX>=d.x+d.width||b.offsetY<=d.y||b.offsetY>=d.y+d.height){c._removeTipAndCrossLines();return}var f=a.toElement||a.relatedTarget||a.target;if(f){if(f==c.canvas){return}if(f==c.clsMgr.getHLine()||f==c.clsMgr.getVLine()){return}c._removeTipAndCrossLines()}};crossLinesAndTipMgr.prototype.addCrossLinesAndTipEvents=function(){var a=this.canvas;var d=this.options;var b=getPageCoord(a);if(a.addCrossLinesAndTipEvents==true){return}a.addCrossLinesAndTipEvents=true;var e=isTouchDevice();var c=this;if(e){addEvent(a,"touchstart",function(f){c._touchstart.call(c,f)});addEvent(a,"touchmove",function(f){c._touchmove.call(c,f)});addEvent(a,"touchend",function(f){c._touchend.call(c,f)})}else{addEvent(a,"mouseout",function(f){c._mouseout.call(c,f)});addEvent(a,"mousemove",function(f){c._onMouseOrTouchMove.call(c,f)});if(typeof d.onClick=="function"){addEvent(a,"click",d.onClick)}}};function addCrossLinesAndTipEvents(a,b){if(!a.crossLineAndTipMgrInstance){a.crossLineAndTipMgrInstance=new crossLinesAndTipMgr(a,b);a.crossLineAndTipMgrInstance.addCrossLinesAndTipEvents()}}function Tip(a){this.options=a;this.canvas=a.canvas;this.canvas.tip=this}Tip.prototype={show:function(d,b){var a=this.dataContext;var c=this.canvas.painter;if(a){if(a.isNewQuote){c.paintTitle()}else{c.paintTitle(a.dataItem)}}},update:function(b,a){this.show(b,a)},hide:function(){var a=this.canvas.painter;a.paintTitle()}};function FundIndex(a,b){this.canvas=$id(a);this.canPaint=(this.canvas.getContext);if(this.canPaint){this.ctx=this.canvas.getContext("2d")}extendObject(b,this)}FundIndex.prototype={paintTitle:function(b){var c=this.dataContext;b=b||c.dataItems[c.dataItems.length-1];var m="最新"+toMoney(b.unitNetValue);var a=this.ctx;var h=this.titleOptions;var j=h.region;a.clearRect(j.x,j.y,j.width,j.height);a.font=h.font;a.fillStyle=this.normalColor;var p=a.measureText(m).width;a.textAlign="left";a.textBaseline="top";a.fillText(m,j.x,j.y);var i=b.unitNetValue;var g=i>c.firstValue;var e=i==c.firstValue;var f=i<c.firstValue;var d=toMoney(i-c.firstValue);var n=(g?"↑":(f?"↓":""))+d+("(")+toMoney(d*100/c.firstValue)+"%)";a.fillStyle=g?this.riseColor:(f?this.fallColor:this.normalColor);var k=a.measureText(n);a.fillText(n,j.x+p+2,j.y);a.fillStyle=this.normalColor;var o=b.date.substring(2);var l=a.measureText(o).width;a.fillText(o,j.width-l,j.y)},paintLegend:function(){var e=this.legendOptions;var a=this.ctx;var f=e.region;var h=f.x;var i=f.y+(f.height-e.barHeight)/2;a.fillStyle=this.chartOptions.fundLineColor;a.beginPath();a.fillRect(h,i,e.barWidth,e.barHeight);var c=h+e.barWidth+e.spaceBetweenBarAndText;var d=f.y+f.height;a.fillStyle=this.normalColor;a.font=e.font;a.textAlign="left";a.textBaseline="bottom";a.fillText("单位净值",c,d);var g="上证指数";var b=a.measureText(g).width;c=f.x+f.width-b;a.fillText(g,c,d);h=f.x+f.width-(e.spaceBetweenBarAndText+e.barWidth+b);a.fillStyle=this.chartOptions.indexLineColor;a.beginPath();a.fillRect(h,i,e.barWidth,e.barHeight)},paintChart:function(){this.paintChartBackground();var c=this.dataContext;var b=this.ctx;var d=this.chartOptions;var e=d.region;b.beginPath();b.strokeStyle=d.fundLineColor;var a=c.dataItems.length;c.dataItems.each(function(h,f,g){var j=e.x+(e.width*g/(a-1));var k=e.y+(c.maxUnitNetValue-h.unitNetValue)*e.height/(c.maxUnitNetValue-c.minUnitNetValue);if(g==0){b.moveTo(j,k)}else{b.lineTo(j,k)}});b.stroke();b.beginPath();b.strokeStyle=d.indexLineColor;var a=c.dataItems.length;c.dataItems.each(function(h,f,g){var j=e.x+(e.width*g/(a-1));var k=e.y+(c.maxIndexValue-h.indexValue)*e.height/(c.maxIndexValue-c.minIndexValue);if(g==0){b.moveTo(j,k)}else{b.lineTo(j,k)}});b.stroke()},fixLinePosition:function(a){a=Math.round(a*10);if(a%10>5){a+=(a%10+5)}else{a-=(a%10+5)}return a/10},paintChartBackground:function(){var e=this.chartOptions;var g=e.region;var a=this.ctx;a.strokeStyle=e.borderColor;a.lineWidth=1;a.beginPath();a.rect(g.x,g.y,g.width,g.height);a.stroke();var b=this.dataContext;var f=this.fixLinePosition(g.y+(b.maxUnitNetValue-b.firstValue)*g.height/(b.maxUnitNetValue-b.minUnitNetValue));a.strokeStyle=e.splitLine.referenceColor;a.beginPath();a.moveTo(g.x,f);a.lineTo(g.x+g.width,f);a.stroke();var h=Math.ceil(g.height/e.splitLine.spaceCount);a.strokeStyle=e.splitLine.color;var c=1;do{var d=this.fixLinePosition(f-c*h);if(d>g.y){a.beginPath();a.moveTo(g.x,d);a.lineTo(g.x+g.width,d);a.stroke();c++;continue}break}while(true);var c=1;do{var d=this.fixLinePosition(f+c*h);if(d<g.y+g.height){a.beginPath();a.moveTo(g.x,d);a.lineTo(g.x+g.width,d);a.stroke();c++;continue}break}while(true)},paintDate:function(){var f=this.dateAxisOptions;var b=this.dataContext;var c=b.dataItems[0].date.substring(2);var d=b.dataItems[b.dataItems.length-1].date.substring(2);var a=this.ctx;var g=f.region;var h=g.x;var i=g.y;a.textAlign="left";a.textBaseline="bottom";a.fillStyle=f.color;a.font=f.font;a.fillText(c,h,i);var e=a.measureText(d).width;h=g.x+g.width-e;a.fillText(d,h,i)},appendLinks:function(){var b=this.canvas.id+"_links";var c=$id(b);var d=this.linksOptions.region;var a=getPageCoord(this.canvas);c.style.left=(a.x+d.x)+"px";c.style.top=(a.y+d.y)+"px";c.style.width=d.width+"px";c.style.height=d.height+"px";c.style.display="block";c.style.position="absolute";c.style.zIndex=1+(this.canvas.style.zIndex||2)},updateUrl:function(a,b){this.dataUrl=a;if(b){this.openUrl=b}this.paint()},parseAjaxResponse:function(a){var g=this;var n=a.responseXML;var k=new XmlParser(n);var j=k.getNodes("/DataSet/Data");g.dataContext={};var b=[];var f,i;var e,h;j.each(function(r,o,q){var p={};p.date=k.getChildValue(r,"fld_enddate");p.unitNetValue=parseFloat(k.getChildValue(r,"fld_unitnetvalue"));p.netValue=parseFloat(k.getChildValue(r,"fld_netvalue"));p.indexValue=parseFloat(k.getChildValue(r,"fld_newprice"));if(q==0){f=p.unitNetValue;i=p.unitNetValue;e=h=p.indexValue}else{f=Math.max(p.unitNetValue,f);i=Math.min(p.unitNetValue,i);e=Math.max(p.indexValue,e);h=Math.min(p.indexValue,h)}b.push(p)});b.reverse();g.dataContext.dataItems=b;g.dataContext.firstValue=b[0].unitNetValue;g.dataContext.firstIndexValue=b[0].indexValue;var d=(b[0].unitNetValue-i)/b[0].unitNetValue;var c=(b[0].indexValue-h)/b[0].indexValue;if(c>d){i=b[0].unitNetValue*(1-c)}else{h=b[0].indexValue*(1-d)}var m=(f-b[0].unitNetValue)/b[0].unitNetValue;var l=(e-b[0].indexValue)/b[0].indexValue;if(l>m){f=b[0].unitNetValue*(1+l)}else{e=b[0].indexValue*(1+m)}g.dataContext.maxUnitNetValue=f;g.dataContext.minUnitNetValue=i;g.dataContext.maxIndexValue=e;g.dataContext.minIndexValue=h;g.dataContext.lastValue=b[b.length-1].unitNetValue},clear:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},addEvents:function(){var d=this;if(d.hasAddEvents){return}var a=d.canvas;var e=d.chartOptions;var f=e.region;function c(n){var j=d.dataContext;var i=j.dataItems;var g=i.length;var k=Math.ceil((n-f.x)/f.width*(g-1));var m;var l;var h;if(k>=0&&k<g){h=i[k];m=h.unitNetValue;l=false}else{m=j.lastValue;l=true}if(a.tip){a.painter=d;a.tip.dataContext={index:k,dataItem:h,isNewQuote:l}}return f.y+(j.maxUnitNetValue-m)*f.height/(j.maxUnitNetValue-j.minUnitNetValue)}function b(l){var i=d.dataContext;var h=i.dataItems;var g=h.length;var j=Math.ceil(l/f.width*(g-1));var k;if(j<0){j=0}if(j>=g){j=g-1}return f.x+(f.width*j/(g-1))}addCrossLinesAndTipEvents(a,{getCrossPoint:function(g){var h=b(g.offsetX);var i=c(g.offsetX);return{x:h,y:i}},triggerEventRanges:{x:f.x,y:f.y,width:f.width-1,height:f.height},tipOptions:{getTipHtml:function(g){return null},position:{x:false,y:false}},crossLineOptions:{color:"black"},onClick:function(){window.open(d.openUrl)}});d.hasAddEvents=true},doPaint:function(){var a=this;a.clear();a.paintTitle();a.paintChart();a.paintDate();a.paintLegend();a.appendLinks();a.addEvents()},paint:function(){if(!this.canPaint){return}var a=this;Ajax.get(a.dataUrl,function(b){a.parseAjaxResponse.call(a,b);a.doPaint.call(a)},a.canvas.id,true)}};
</script>
        <!--don't combine-->
        <script>
var painter;addLoadEvent(function(){if(!painter){painter=new FundIndex("canvasFund",{riseColor:"red",fallColor:"green",normalColor:"black",dataUrl:"openfundnetvalue.xml",openUrl:"http://jingzhi.funds.hexun.com/160808.shtml",titleOptions:{region:{x:2,y:2,width:212,height:16},font:"9pt 宋体"},chartOptions:{region:{x:2.5,y:18.5,width:155,height:90},borderColor:"black",font:"9pt 宋体",fontColor:"gray",splitLine:{spaceCount:4,color:"lightgray",referenceColor:"red"},fundLineColor:"#E2007E",indexLineColor:"#2358A6"},dateAxisOptions:{region:{x:1.5,y:123,height:16,width:153},color:"gray",font:"7pt Arial"},legendOptions:{region:{x:1.5,y:129,height:12,width:153},fontColor:"black",font:"9pt 宋体",barHeight:5,barWidth:16,spaceBetweenBarAndText:2},linksOptions:{region:{x:158,y:16,height:120,width:56}}})}painter.paint()});
</script>
    <style type="text/css">
        .menu{display:none}
        .menuItem{border: 1px solid #666;color: #666;display: block;font-size: 9pt;font-family: Arial,宋体;margin: 2px;text-decoration: none;line-height: 16px;text-align: center;}
        .focus{background: #FFCC66;}
    </style>
    </head>

    <body>
        <canvas id="canvasFund" width="214" height="146"></canvas>
        <div id="canvasFund_links" class="menu">
            <a href="http://jingzhi.funds.hexun.com/jz/" target="_blank" class="menuItem">基金净值</a>
            <a href="http://paiming.funds.hexun.com/cc/zcgtj.htm" target="_blank" class="menuItem">重仓股</a>
            <a href="http://funds.hexun.com/2009/jjsxq/index.html" target="_blank" class="menuItem">筛选器</a>
            <a href="http://bbs.hexun.com/funds/board_30_all_1_d.aspx" target="_blank" class="menuItem">基金论坛</a>
            <a href="http://funds.hexun.com/money/" target="_blank" class="menuItem">基金课堂</a>
        </div>
    </body>
</html>